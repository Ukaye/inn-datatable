{"version":3,"file":"ayo-datatable.js","sources":["ng://ayo-datatable/components/datatable/datatable.component.ts","ng://ayo-datatable/components/dropdown/dropdown.component.ts","ng://ayo-datatable/datatable.module.ts","ng://ayo-datatable/ayo-datatable.ts"],"sourcesContent":["/*\r\n@author Sunmola Ayokunle\r\n@version 1.0.1\r\n@docs https://github.com/ayotycoon/docs/blob/master/notch-datatable.md\r\n@lastModified 27 March 2020\r\n\r\n*/\r\n\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { Observable } from 'rxjs';\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ayo-datatable',\r\n  templateUrl: './datatable.component.html',\r\n  styleUrls: ['./datatable.component.scss']\r\n})\r\nexport class DatatableComponent implements OnInit {\r\n  refreshing = false;\r\n  cache = {\r\n    checkBoxHeadId: ''\r\n  };\r\n  dateFields = {\r\n    createdAt: true,\r\n    updatedAt: true,\r\n    createdDate: true,\r\n    createdOn: true,\r\n    endDate: true,\r\n    paymentDueDate: true,\r\n  };\r\n\r\n  headHash = {};\r\n  tableclass = 'a' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n\r\n  paginate = 10;\r\n  paginateIndex = 1;\r\n  paginateArrayIndex = 1;\r\n  totalAvailablePagination = 1;\r\n\r\n  @Input() options;\r\n  @Input() heads;\r\n  @Input() bodyrows;\r\n  staticBodyrows = [];\r\n  @Input() dataChanged: Observable<any>;\r\n  subs = [];\r\n  @Output() feedback: EventEmitter<any> = new EventEmitter<any>(null);\r\n  paginatedBodyrows = [];\r\n  selectedrows = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.dataChanged) {\r\n      this.subs.push(this.dataChanged.subscribe(changed => {\r\n        if (changed) {\r\n          this.refreshing = true;\r\n          console.log('detected data change');\r\n\r\n          setTimeout(() => {\r\n            this.refreshing = false;\r\n            this.staticBodyrows = this.bodyrows ? [...this.bodyrows] : [];\r\n            this.paginateIndex = 1;\r\n            this.paginateArrayIndex = 1;\r\n            this.initializeTable();\r\n\r\n          }, 1000);\r\n        }\r\n      }));\r\n    }\r\n\r\n    this.staticBodyrows = this.bodyrows ? [...this.bodyrows] : [];\r\n    this.initializeTable();\r\n\r\n  }\r\n\r\n  headClicked = (headData, refElement?) => {\r\n    switch (headData.key) {\r\n      case 'checkbox':\r\n        this.cache.checkBoxHeadId = refElement;\r\n        const checked = (document.querySelector(\r\n          '#' + refElement\r\n        ) as HTMLInputElement).checked;\r\n\r\n\r\n        document\r\n          .querySelectorAll('.' + this.tableclass + '-checkbox')\r\n          .forEach(\r\n            (checkbox: HTMLInputElement) =>\r\n              (checkbox.checked = !checked)\r\n          );\r\n        if (checked) {\r\n          this.selectedrows = [];\r\n        } else {\r\n          this.selectedrows = [...this.paginatedBodyrows];\r\n        }\r\n\r\n        this.feedback.emit({ type: 'selectedrows', data: this.selectedrows });\r\n        break;\r\n\r\n      default:\r\n        const sorted = this.headHash[headData.key].sorted;\r\n        // @ts-ignore\r\n        if (1 === 7) {\r\n          this.headHash[headData.key] = { sorted: false };\r\n          this.bodyrows = [...this.staticBodyrows];\r\n          this.startPaginate();\r\n          break;\r\n        }\r\n        this.bodyrows.sort((a: any, b: any) => {\r\n          if (sorted) {\r\n            this.headHash[headData.key] = { sorted: false };\r\n            const temp = a;\r\n            a = b;\r\n            b = temp;\r\n          } else {\r\n            this.headHash[headData.key] = { sorted: true };\r\n          }\r\n\r\n          if (parseInt(a[headData.key]) && parseInt(b[headData.key])) {\r\n            return a[headData.key] - b[headData.key];\r\n          }\r\n\r\n          const nameA = a[headData.key] ? (a[headData.key] + '').toUpperCase() : ''; // ignore upper and lowercase\r\n          const nameB = b[headData.key] ? (b[headData.key] + '').toUpperCase() : ''; // ignore upper and lowercase\r\n          if (nameA < nameB) {\r\n            return -1;\r\n          }\r\n          if (nameA > nameB) {\r\n            return 1;\r\n          }\r\n\r\n          // names must be equal\r\n          return 0;\r\n\r\n\r\n        });\r\n        this.startPaginate();\r\n\r\n        break;\r\n    }\r\n    const el = document.querySelector('#' + headData.key + '-icon');\r\n    if (!el) {\r\n      return;\r\n    }\r\n    if (this.headHash[headData.key].sorted) {\r\n      el.innerHTML = `  <i class='fa  fa-angle-up'></i>`;\r\n    } else {\r\n      el.innerHTML = `  <i class='fa  fa-angle-down'></i>`;\r\n    }\r\n\r\n\r\n  }\r\n  initializeTable = () => {\r\n    this.heads.forEach(head => {\r\n      this.headHash[head.key] = { sorted: false };\r\n\r\n\r\n    });\r\n    this.startPaginate(true);\r\n  }\r\n  startPaginate = (init?) => {\r\n    if (!this.bodyrows) {\r\n      return;\r\n    }\r\n    if (init) {\r\n      this.totalAvailablePagination = Math.ceil(\r\n        this.bodyrows.length / this.paginate\r\n      ) || 1;\r\n    }\r\n\r\n    this.paginatedBodyrows = this.bodyrows.slice(\r\n      this.paginateArrayIndex - 1,\r\n      this.paginate + (this.paginateArrayIndex - 1)\r\n    );\r\n\r\n  }\r\n  nextPaginate(n) {\r\n    this.paginateIndex += (n);\r\n    this.paginateArrayIndex += (n * this.paginate);\r\n    this.startPaginate();\r\n    this.resetCheckBox();\r\n  }\r\n  changePagination(n) {\r\n    this.paginate = parseInt(n);\r\n    this.paginateIndex = 1;\r\n    this.paginateArrayIndex = 1;\r\n    this.initializeTable();\r\n  }\r\n  search(searchInput) {\r\n    this.bodyrows = this.staticBodyrows.filter(obj => {\r\n      let match = false;\r\n      for (const key of Object.keys(obj)) {\r\n        if ((obj[key] + '').toLowerCase().match(searchInput.trim().toLowerCase())) {\r\n          match = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      return match;\r\n    });\r\n    this.startPaginate(true);\r\n  }\r\n  resetCheckBox() {\r\n    if (this.cache.checkBoxHeadId) {\r\n      const refElement = this.cache.checkBoxHeadId;\r\n\r\n      (document.querySelector(\r\n        '#' + refElement\r\n      ) as HTMLInputElement).checked = false;\r\n    }\r\n  }\r\n  itemChecked(data, push?) {\r\n    if (push) {\r\n      this.selectedrows.push(data);\r\n    } else {\r\n      const firstkey = Object.keys(data)[0];\r\n      this.selectedrows = this.selectedrows.filter(rdata => !(rdata[firstkey] === data[firstkey])\r\n      );\r\n    }\r\n    this.feedback.emit({ type: 'selectedrows', data: this.selectedrows });\r\n    this.resetCheckBox();\r\n\r\n\r\n  }\r\n  emitSingleAction(action, data) {\r\n    this.feedback.emit({ type: 'singleaction', action, data });\r\n\r\n  }\r\n  emitBulkAction(action) {\r\n    this.feedback.emit({ type: 'bulkactions', action, data: this.selectedrows });\r\n\r\n  }\r\n  min(a, b) {\r\n    return Math.min(a, b);\r\n  }\r\n\r\n\r\n  emitViewActions(data, key) {\r\n\r\n    if (key === 'checkbox' || key === 'action') {\r\n      return;\r\n    }\r\n    ['View/Edit', 'View / Edit', 'View', 'Edit'].forEach(action => this.feedback.emit({ type: 'singleaction', action, data }));\r\n\r\n  }\r\n  OnDestroy() {\r\n    this.subs.forEach(sub => sub.unsubscribe());\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'ayo-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.css']\n})\nexport class DropdownComponent implements OnInit, OnDestroy,AfterViewInit {\n  @ViewChild('Dropdown', null) myDivElementRef: ElementRef;\n  @Input() togglePosition: any;\n  toggleEl: HTMLDivElement;\n  parentToggleEl: HTMLDivElement;\n  clicked = false;\n  clickedFunRef: any;\n  parentFunRef: any;\n  canClickOutside = false;\n  canClickOutsideSetTimeoutRef: any;\n\n  constructor() { }\n\n  ngOnInit() {\n\n\n\n\n\n  }\n\n\n\n  toggleClicked() {\n    this.clicked = !this.clicked;\n\n\n \n    function isDescendant(parent: HTMLElement, child: HTMLElement) {\n      let node = child.parentNode;\n      while (node != null) {\n        if (node == parent) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    }\n    if (this.clicked) {\n      this.toggleEl.style.display = 'block';\n      this.myDivElementRef.nativeElement.style.zIndex = '6';\n      if (this.canClickOutsideSetTimeoutRef){\n        clearTimeout(this.canClickOutsideSetTimeoutRef)\n      }\n\n      this.canClickOutsideSetTimeoutRef = setTimeout(() => {\n        this.canClickOutside = true;\n      }, 100);\n        this.clickedFunRef = window.addEventListener('click', (e: any) => {\n\n         \n          if (!isDescendant(this.toggleEl, e.target) && this.canClickOutside) {\n\n            this.toggleClicked()\n          }\n        })\n\n   \n    } else {\n      this.canClickOutside = false;\n      this.toggleEl.style.display = 'none';\n      this.myDivElementRef.nativeElement.style.zIndex = '2';\n    }\n  }\n  ngAfterViewInit(){\n    this.toggleEl = this.myDivElementRef.nativeElement.querySelector('[toggle]');\n\n\n    this.toggleEl.style.display = 'none';\n    this.toggleEl.style.position = 'absolute';\n    if(this.togglePosition){\n      this.toggleEl.style[this.togglePosition['position']] = this.togglePosition['value'];\n    }\n \n\n  }\n  ngOnDestroy() {\n    if (this.clickedFunRef) {\n      window.removeEventListener('click', this.clickedFunRef)\n    }\n \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DatatableComponent } from './components/datatable/datatable.component';\nimport { DropdownComponent } from './components/dropdown/dropdown.component';\n\n\n\n@NgModule({\n  declarations: [DatatableComponent, DropdownComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [DatatableComponent]\n})\nexport class DatatableModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {DatatableComponent as Éµa} from './components/datatable/datatable.component';\nexport {DropdownComponent as Éµb} from './components/dropdown/dropdown.component';"],"names":["tslib_1.__values","tslib_1.__decorate"],"mappings":";;;;AAAA;;;;;;;;IAiDE;QAAA,iBAAiB;QA/BjB,eAAU,GAAG,KAAK,CAAC;QACnB,UAAK,GAAG;YACN,cAAc,EAAE,EAAE;SACnB,CAAC;QACF,eAAU,GAAG;YACX,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI;YACjB,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;YACb,cAAc,EAAE,IAAI;SACrB,CAAC;QAEF,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAE7G,aAAQ,GAAG,EAAE,CAAC;QACd,kBAAa,GAAG,CAAC,CAAC;QAClB,uBAAkB,GAAG,CAAC,CAAC;QACvB,6BAAwB,GAAG,CAAC,CAAC;QAK7B,mBAAc,GAAG,EAAE,CAAC;QAEpB,SAAI,GAAG,EAAE,CAAC;QACA,aAAQ,GAAsB,IAAI,YAAY,CAAM,IAAI,CAAC,CAAC;QACpE,sBAAiB,GAAG,EAAE,CAAC;QACvB,iBAAY,GAAG,EAAE,CAAC;QA6BlB,gBAAW,GAAG,UAAC,QAAQ,EAAE,UAAW;YAClC,QAAQ,QAAQ,CAAC,GAAG;gBAClB,KAAK,UAAU;oBACb,KAAI,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;oBACvC,IAAM,SAAO,GAAI,QAAQ,CAAC,aAAa,CACrC,GAAG,GAAG,UAAU,CACI,CAAC,OAAO,CAAC;oBAG/B,QAAQ;yBACL,gBAAgB,CAAC,GAAG,GAAG,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC;yBACrD,OAAO,CACN,UAAC,QAA0B;wBACzB,QAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,SAAO;qBAAC,CAChC,CAAC;oBACJ,IAAI,SAAO,EAAE;wBACX,KAAI,CAAC,YAAY,GAAG,EAAE,CAAC;qBACxB;yBAAM;wBACL,KAAI,CAAC,YAAY,YAAO,KAAI,CAAC,iBAAiB,CAAC,CAAC;qBACjD;oBAED,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,KAAI,CAAC,YAAY,EAAE,CAAC,CAAC;oBACtE,MAAM;gBAER;oBACE,IAAM,QAAM,GAAG,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;;oBAElD,IAAI,CAAC,KAAK,CAAC,EAAE;wBACX,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;wBAChD,KAAI,CAAC,QAAQ,YAAO,KAAI,CAAC,cAAc,CAAC,CAAC;wBACzC,KAAI,CAAC,aAAa,EAAE,CAAC;wBACrB,MAAM;qBACP;oBACD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,CAAM,EAAE,CAAM;wBAChC,IAAI,QAAM,EAAE;4BACV,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;4BAChD,IAAM,IAAI,GAAG,CAAC,CAAC;4BACf,CAAC,GAAG,CAAC,CAAC;4BACN,CAAC,GAAG,IAAI,CAAC;yBACV;6BAAM;4BACL,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;yBAChD;wBAED,IAAI,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;4BAC1D,OAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;yBAC1C;wBAED,IAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC;wBAC1E,IAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC;wBAC1E,IAAI,KAAK,GAAG,KAAK,EAAE;4BACjB,OAAO,CAAC,CAAC,CAAC;yBACX;wBACD,IAAI,KAAK,GAAG,KAAK,EAAE;4BACjB,OAAO,CAAC,CAAC;yBACV;;wBAGD,OAAO,CAAC,CAAC;qBAGV,CAAC,CAAC;oBACH,KAAI,CAAC,aAAa,EAAE,CAAC;oBAErB,MAAM;aACT;YACD,IAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,OAAO,CAAC,CAAC;YAChE,IAAI,CAAC,EAAE,EAAE;gBACP,OAAO;aACR;YACD,IAAI,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;gBACtC,EAAE,CAAC,SAAS,GAAG,mCAAmC,CAAC;aACpD;iBAAM;gBACL,EAAE,CAAC,SAAS,GAAG,qCAAqC,CAAC;aACtD;SAGF,CAAA;QACD,oBAAe,GAAG;YAChB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;gBACrB,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;aAG7C,CAAC,CAAC;YACH,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC1B,CAAA;QACD,kBAAa,GAAG,UAAC,IAAK;YACpB,IAAI,CAAC,KAAI,CAAC,QAAQ,EAAE;gBAClB,OAAO;aACR;YACD,IAAI,IAAI,EAAE;gBACR,KAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,IAAI,CACvC,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAI,CAAC,QAAQ,CACrC,IAAI,CAAC,CAAC;aACR;YAED,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAC1C,KAAI,CAAC,kBAAkB,GAAG,CAAC,EAC3B,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,CAC9C,CAAC;SAEH,CAAA;KA/HgB;IAEjB,qCAAQ,GAAR;QAAA,iBAuBC;QArBC,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,OAAO;gBAC/C,IAAI,OAAO,EAAE;oBACX,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;oBAEpC,UAAU,CAAC;wBACT,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;wBACxB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,QAAQ,YAAO,KAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;wBAC9D,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC;wBACvB,KAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;wBAC5B,KAAI,CAAC,eAAe,EAAE,CAAC;qBAExB,EAAE,IAAI,CAAC,CAAC;iBACV;aACF,CAAC,CAAC,CAAC;SACL;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,YAAO,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QAC9D,IAAI,CAAC,eAAe,EAAE,CAAC;KAExB;IAuGD,yCAAY,GAAZ,UAAa,CAAC;QACZ,IAAI,CAAC,aAAa,KAAK,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,kBAAkB,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,EAAE,CAAC;KACtB;IACD,6CAAgB,GAAhB,UAAiB,CAAC;QAChB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IACD,mCAAM,GAAN,UAAO,WAAW;QAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,UAAA,GAAG;;YAC5C,IAAI,KAAK,GAAG,KAAK,CAAC;;gBAClB,KAAkB,IAAA,KAAAA,SAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,gBAAA,4BAAE;oBAA/B,IAAM,GAAG,WAAA;oBACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,EAAE;wBACzE,KAAK,GAAG,IAAI,CAAC;wBACb,MAAM;qBACP;iBACF;;;;;;;;;YAED,OAAO,KAAK,CAAC;SACd,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC1B;IACD,0CAAa,GAAb;QACE,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAC7B,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;YAE5C,QAAQ,CAAC,aAAa,CACrB,GAAG,GAAG,UAAU,CACI,CAAC,OAAO,GAAG,KAAK,CAAC;SACxC;KACF;IACD,wCAAW,GAAX,UAAY,IAAI,EAAE,IAAK;QACrB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9B;aAAM;YACL,IAAM,UAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAA,KAAK,IAAI,OAAA,EAAE,KAAK,CAAC,UAAQ,CAAC,KAAK,IAAI,CAAC,UAAQ,CAAC,CAAC,GAAA,CAC1F,CAAC;SACH;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACtE,IAAI,CAAC,aAAa,EAAE,CAAC;KAGtB;IACD,6CAAgB,GAAhB,UAAiB,MAAM,EAAE,IAAI;QAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;KAE5D;IACD,2CAAc,GAAd,UAAe,MAAM;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,MAAM,QAAA,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;KAE9E;IACD,gCAAG,GAAH,UAAI,CAAC,EAAE,CAAC;QACN,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACvB;IAGD,4CAAe,GAAf,UAAgB,IAAI,EAAE,GAAG;QAAzB,iBAOC;QALC,IAAI,GAAG,KAAK,UAAU,IAAI,GAAG,KAAK,QAAQ,EAAE;YAC1C,OAAO;SACR;QACD,CAAC,WAAW,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,CAAC,GAAA,CAAC,CAAC;KAE5H;IACD,sCAAS,GAAT;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,WAAW,EAAE,GAAA,CAAC,CAAC;KAC7C;IAjNQC;QAAR,KAAK,EAAE;uDAAS;IACRA;QAAR,KAAK,EAAE;qDAAO;IACNA;QAAR,KAAK,EAAE;wDAAU;IAETA;QAAR,KAAK,EAAE;2DAA8B;IAE5BA;QAAT,MAAM,EAAE;wDAA2D;IA5BzD,kBAAkB;QAL9B,SAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,wrPAAyC;;SAE1C,CAAC;OACW,kBAAkB,CAwO9B;IAAD,yBAAC;CAxOD;;;ICCE;QANA,YAAO,GAAG,KAAK,CAAC;QAGhB,oBAAe,GAAG,KAAK,CAAC;KAGP;IAEjB,oCAAQ,GAAR;KAMC;IAID,yCAAa,GAAb;QAAA,iBAwCC;QAvCC,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QAI7B,SAAS,YAAY,CAAC,MAAmB,EAAE,KAAkB;YAC3D,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC;YAC5B,OAAO,IAAI,IAAI,IAAI,EAAE;gBACnB,IAAI,IAAI,IAAI,MAAM,EAAE;oBAClB,OAAO,IAAI,CAAC;iBACb;gBACD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;aACxB;YACD,OAAO,KAAK,CAAC;SACd;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACtC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;YACtD,IAAI,IAAI,CAAC,4BAA4B,EAAC;gBACpC,YAAY,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAA;aAChD;YAED,IAAI,CAAC,4BAA4B,GAAG,UAAU,CAAC;gBAC7C,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;aAC7B,EAAE,GAAG,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,CAAM;gBAG3D,IAAI,CAAC,YAAY,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,KAAI,CAAC,eAAe,EAAE;oBAElE,KAAI,CAAC,aAAa,EAAE,CAAA;iBACrB;aACF,CAAC,CAAA;SAGL;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;SACvD;KACF;IACD,2CAAe,GAAf;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAG7E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,IAAG,IAAI,CAAC,cAAc,EAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SACrF;KAGF;IACD,uCAAW,GAAX;QACE,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;SACxD;KAEF;IAhF4BA;QAA5B,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC;8DAA6B;IAChDA;QAAR,KAAK,EAAE;6DAAqB;IAFlB,iBAAiB;QAL7B,SAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,4KAAwC;;SAEzC,CAAC;OACW,iBAAiB,CAmF7B;IAAD,wBAAC;CAnFD;;;ICOA;KAAgC;IAAnB,eAAe;QAP3B,QAAQ,CAAC;YACR,YAAY,EAAE,CAAC,kBAAkB,EAAE,iBAAiB,CAAC;YACrD,OAAO,EAAE;gBACP,YAAY;aACb;YACD,OAAO,EAAE,CAAC,kBAAkB,CAAC;SAC9B,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAhC;;ACdA;;;;;;"}